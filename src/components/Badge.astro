---
/**
 * Badge.astro
 *
 * Smart wrapper around ui/badge.tsx.
 * All tag definitions live in src/lib/tag-definitions.ts — edit them there.
 *
 * Usage:
 *   <Badge tag="rust" />
 *   <Badge tag="anything-unknown" />  ← falls back to grey default
 */

import { Badge as BadgePrimitive } from '@/components/ui/badge';
import { resolveTag } from '@/lib/tag-definitions';

interface Props {
  tag: string;
  class?: string;
}

const { tag, class: className } = Astro.props;

const { color, icon: Icon, label } = resolveTag(tag);
---

<BadgePrimitive color={color} className={className} client:load>
  <Icon size={12} />
  {label}
</BadgePrimitive>
